---
title: "エージェントのライフサイクルを設計する"
---

成功する Dify エージェントは、実験と信頼性のバランスを取ります。このライフサイクルを使ってチームの足並みをそろえましょう。

## 1. 発見

- ステークホルダーへのインタビューで成功指標を洗い出す。
- ユーザージャーニーとコンテキストウィンドウを共有の Miro ボードにまとめる。
- ノーススターとなるユースケースと「最初に役立つバージョン」のマイルストーンを策定する。

## 2. プロトタイプ

- Dify でサンドボックス用データセットを作成し、合成会話を用意する。
- エージェントをフィーチャーフラグ（例: LaunchDarkly）内に実装し、安全にロールアウトする。
- `.prompt` ファイルを使ってプロンプトの変更をバージョン管理する。

## 3. 評価

- Dify の評価ジョブと CI パイプラインで回帰チェックを自動化する。
- 敵対的プロンプトやツール失敗シナリオを含める。
- ドリフトを Metabase や Grafana などのダッシュボードで可視化し、アラートを発火させる。

## 4. ローンチと学習

- カナリアルーティングで本番にプロモートする。
- Dify の会話履歴から構造化されたフィードバックを収集する。
- 週次レビューを設定し、次の改善の優先度を決める。

<Callout>
ライフサイクルは循環するものです。各ローンチが次の発見スプリントの材料になります。
</Callout>
